;~function () {
    /**
     * openWin方法集合
     * @$p
     *      name : string 窗口名称，同时也是窗口打开后的入口函数名称。不可重复、
     *      url : string 打开窗口的链接，外部链接用，否则不填
     *      param : object 打开窗口传递的参数，不填为空object
     * 这里写已经存在的窗口名，已做开发使用，除root外所有窗口已'win_'开头
     *      root 根窗口，不可关闭
     *      win_url 新的链接窗口，提供外部url访问支持
     *      win_cargo 商品详情页窗口，暂时包括
     *      win_bbs_details 论坛帖子详情窗口
     *      win_login 登陆页面
     *      win_bind_tel 绑定手机号页面
     *      win_user_regi 注册页面
     *      win_forget_pwd 忘记密码
     *      win_coin_details 积分商品详细页面
     *      win_coin_assess 积分商城用户评论页面
     *      win_coin_info 积分收支详情页面
     *      win_coin_order 积分订单
     *      win_coin_chase 积分物流
     * */
    $.openWin = function ($p) {
        if(typeof $p != 'object' || !$p) return $.api.toast('尚未开发，请耐心等候');
        if($p.name == 'root') return api.openWin({
            name : 'root'
        });
        api.openWin({
            name : $p.name,
            url : 'widget://html/win.html',
            pageParam : $.extend({}, $p.param || {} , { main : $p.name } ),
            bgColor : '#e65c7c',
            reload : true
        });
    };
    /**
     * 所有窗口的入口位置
     */
    //外部链接
   /* var app = function () {};

    app.prototype.win_url = function () {
        $.frame.open_url();
    };
    //商品详情
    app.prototype.win_cargo = function () {
        $.frame.open_cargo();
    };
    //论坛帖子详情
    app.prototype.win_bbs_details = function () {
        $.frame.open_bbs_details();
    };
    //登陆页面
    app.prototype.win_user_login = function () {
        $.frame.open_user_login();
    };
    //绑定手机号
    app.prototype.wrl_bind_tel = function () {
        $.frame.open_bind_tel();
    };
    //注册
    app.prototype.win_user_regi = function () {
        $.frame.open_user_regi();
    };
    //忘记密码
    app.prototype.win_forget_pwd = function () {
        $.frame.open_forget_pwd();
    };
    //积分商城商品详情
    app.prototype.win_coin_details = function () {
        $.frame.open_coin_details();
    };
    //
    app.prototype.win_coin_assess = function () {
        $.frame.open_coin_assess();
    };
    // 积分收支详情页面
    app.prototype.win_coin_info = function () {
        $.frame.open_coin_info();
    };
    //积分订单
    app.prototype.win_coin_order = function () {
        $.frame.open_coin_order();
    };
    app.prototype.win_coin_chase = function () {
        $.frame.open_coin_chase();
    };
    var main = new app();*/
    $.win = function () {
        var fn = api.pageParam.main;
        typeof $.frame[fn] == 'function' ? $.frame[fn](api.pageParam) : $.api.toast('出现错误，可能是参数有误，或者是入口函数不存在');
        //typeof main[fn] == 'function' ? main[fn](api.pageParam) : $.api.toast('出现错误，可能是参数有误，或者是入口函数不存在');
    };
}();
